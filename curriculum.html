<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Curriculum ‚Äî Mynd Course Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Your Mynd learning dashboard: track progress through State ‚Üí Story ‚Üí Need ‚Üí Step. Unlock Phase II modules as a member." />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../style.css" />
  <style>
    .meter-wrap{background:#fff;border:1px solid var(--line);border-radius:14px;padding:12px 14px;box-shadow:0 8px 20px rgba(24,46,66,.08)}
    .meter{height:10px;border-radius:999px;background:#EAF2FB;overflow:hidden}
    .meter>span{display:block;height:100%;width:0;background:linear-gradient(90deg,var(--aqua),var(--lav));transition:width .6s ease}
    .status{font-size:12px;color:#2C5E63}
    .card.locked{opacity:.7;position:relative}
    .card.locked::after{
      content:"üîí Member Preview"; position:absolute; top:8px; right:10px;
      font-size:12px; color:#2D4C72; background:#F4F8FF; border:1px solid #D6E2F5; border-radius:999px; padding:2px 8px;
    }
    .progress-mini{height:6px;border-radius:999px;background:#EAF2FB;overflow:hidden;margin-top:6px}
    .progress-mini>span{display:block;height:100%;width:0;background:linear-gradient(90deg,var(--aqua),var(--lav))}
    .lesson-meta{display:flex;justify-content:space-between;align-items:center;gap:10px;margin-top:6px}
    .lesson-meta .pill{padding:4px 8px}
    .lesson-actions{display:flex;gap:8px;flex-wrap:wrap}
    .ghost{display:inline-block;padding:8px 12px;border-radius:999px;border:1px solid rgba(28,182,173,.35);color:#114B4F;font-weight:600;background:rgba(255,255,255,.6);backdrop-filter:saturate(1.1) blur(4px);text-decoration:none}
  </style>
</head>
<body data-page="curriculum">
  <div class="progress" id="progress"></div>
  <div class="orb a" id="orbA"></div><div class="orb b" id="orbB"></div><div class="orb c" id="orbC"></div>

  <header>
    <div class="wrap nav">
      <div class="brand">Mynd <span class="tag-sub">Education for Human Evolution</span></div>
      <a href="../index.html" data-page="home">Home</a>
      <a href="index.html" data-page="curriculum" class="active">Curriculum</a>
      <a href="../patterns.html" data-page="patterns">Patterns</a>
      <a href="../practices.html" data-page="practices">Practices</a>
      <a href="../language.html" data-page="language">Language</a>
      <a href="../anchors.html" data-page="anchors">Anchors</a>
      <a href="../faq.html" data-page="faq">FAQ</a>
      <a href="../about.html" data-page="about">About</a>
      <span class="spacer"></span>
      <a class="chip" href="../join.html" data-page="join">Membership</a>
    </div>
  </header>

  <main class="wrap">
    <div class="hero reveal">
      <span class="tagline"><span class="dot"></span> Course Dashboard</span>
      <h1>The Architecture of Awareness</h1>
      <p class="sub">
        Move through the four core lessons ‚Äî <em>State ‚Üí Story ‚Üí Need ‚Üí Step</em> ‚Äî at your pace. Your progress is saved on this device.
        Founding Members also unlock the Phase II modules: Beliefs, Values, Perception, and Community (XP).
      </p>
      <div class="meter-wrap">
        <div class="status"><strong>Total Progress:</strong> <span id="totalPct">0%</span></div>
        <div class="meter"><span id="meterFill"></span></div>
      </div>
      <div class="tiny">Tip: you‚Äôll mark a lesson complete by pressing the ‚ÄúContinue‚Äù button at the end of each lesson.</div>
    </div>

    <div class="sp"></div>

    <!-- Core Mini-Course -->
    <section class="card reveal">
      <div class="pill">Mini-Course</div>
      <h2>Foundations (4 lessons)</h2>
      <div class="grid grid-2">
        <!-- STATE -->
        <div class="card lift" style="padding:16px">
          <h3>Lesson 1 ‚Äî State</h3>
          <p class="muted">The language of the body. Learn to identify and name your nervous system state.</p>
          <div class="lesson-meta">
            <span class="pill" id="badge_state">Not started</span>
            <div class="progress-mini"><span id="bar_state"></span></div>
          </div>
          <div class="lesson-actions" style="margin-top:8px">
            <a class="chip" href="state.html">Start Lesson</a>
            <a class="ghost" href="state.html">Preview</a>
          </div>
        </div>

        <!-- STORY -->
        <div class="card lift" style="padding:16px">
          <h3>Lesson 2 ‚Äî Story</h3>
          <p class="muted">The narrator within. Discern truth from trauma and update old predictions.</p>
          <div class="lesson-meta">
            <span class="pill" id="badge_story">Not started</span>
            <div class="progress-mini"><span id="bar_story"></span></div>
          </div>
          <div class="lesson-actions" style="margin-top:8px">
            <a class="chip" href="story.html">Start Lesson</a>
            <a class="ghost" href="story.html">Preview</a>
          </div>
        </div>

        <!-- NEED -->
        <div class="card lift" style="padding:16px">
          <h3>Lesson 3 ‚Äî Need</h3>
          <p class="muted">Listening for what‚Äôs true. Translate emotion into clear, sacred needs.</p>
          <div class="lesson-meta">
            <span class="pill" id="badge_need">Not started</span>
            <div class="progress-mini"><span id="bar_need"></span></div>
          </div>
          <div class="lesson-actions" style="margin-top:8px">
            <a class="chip" href="need.html">Start Lesson</a>
            <a class="ghost" href="need.html">Preview</a>
          </div>
        </div>

        <!-- STEP -->
        <div class="card lift" style="padding:16px">
          <h3>Lesson 4 ‚Äî Step</h3>
          <p class="muted">Turn awareness into movement. Small, steady action that compounds.</p>
          <div class="lesson-meta">
            <span class="pill" id="badge_step">Not started</span>
            <div class="progress-mini"><span id="bar_step"></span></div>
          </div>
          <div class="lesson-actions" style="margin-top:8px">
            <a class="chip" href="step.html">Start Lesson</a>
            <a class="ghost" href="step.html">Preview</a>
          </div>
        </div>
      </div>
    </section>

    <div class="sp"></div>

    <!-- Phase II -->
    <section class="card reveal">
      <div class="pill">Phase II ¬∑ Coming Online</div>
      <h2>Evolution Modules (Members)</h2>
      <div class="grid grid-2">
        <div class="card lift locked" style="padding:16px" data-lock="beliefs">
          <h3>Beliefs</h3>
          <p class="muted">Audit core beliefs and upgrade outdated predictions with compassion.</p>
          <div class="lesson-actions" style="margin-top:8px">
            <a class="chip" href="../join.html">Join to Unlock</a>
            <a class="ghost" href="../index.html#offer">See the Offer</a>
          </div>
        </div>

        <div class="card lift locked" style="padding:16px" data-lock="values">
          <h3>Values</h3>
          <p class="muted">Define your non-negotiables and align choices with dignity and direction.</p>
          <div class="lesson-actions" style="margin-top:8px">
            <a class="chip" href="../join.html">Join to Unlock</a>
            <a class="ghost" href="../index.html#offer">See the Offer</a>
          </div>
        </div>

        <div class="card lift locked" style="padding:16px" data-lock="perception">
          <h3>Perception</h3>
          <p class="muted">Learn how attention, bias, and memory shape reality ‚Äî and how to recalibrate.</p>
          <div class="lesson-actions" style="margin-top:8px">
            <a class="chip" href="../join.html">Join to Unlock</a>
            <a class="ghost" href="../index.html#offer">See the Offer</a>
          </div>
        </div>

        <div class="card lift locked" style="padding:16px" data-lock="community">
          <h3>Community & XP</h3>
          <p class="muted">Earn experience for learning and contribution; evolve together with care.</p>
          <div class="lesson-actions" style="margin-top:8px">
            <a class="chip" href="../join.html">Join to Unlock</a>
            <a class="ghost" href="../index.html#offer">See the Offer</a>
          </div>
        </div>
      </div>
      <div class="hr"></div>
      <p class="tiny">Already a member? Your checkout can redirect to <code>/curriculum/?member=1</code> to unlock these on this device.</p>
    </section>

    <footer class="reveal">Mynd ¬∑ ¬© <span id="yr"></span> ¬∑ Education for Human Evolution</footer>
  </main>

  <button class="to-top" id="toTop" aria-label="Back to top">‚Üë</button>

  <script src="../app.js"></script>
  <script>
    // --- Membership unlock via ?member=1
    (function(){
      const params = new URLSearchParams(location.search);
      if (params.get('member') === '1'){
        localStorage.setItem('mynd_member','true');
        history.replaceState({}, "", location.pathname); // clean URL
      }
    })();

    // --- Read lesson progress, compute totals
    const lessons = ['state','story','need','step'];
    function getLessonState(key){ return localStorage.getItem('lesson_'+key) || 'none'; }
    function setBadgeAndBar(key){
      const badge = document.getElementById('badge_'+key);
      const bar = document.getElementById('bar_'+key);
      const st = getLessonState(key); // 'none' | 'started' | 'done'
      let label = 'Not started', pct = 0;
      if (st === 'started'){ label='In progress'; pct=50; }
      if (st === 'done'){ label='Complete'; pct=100; }
      if (badge) badge.textContent = label;
      if (bar) bar.style.width = pct + '%';
    }
    function computeTotal(){
      const vals = lessons.map(k => getLessonState(k)==='done' ? 1 : (getLessonState(k)==='started'?0.5:0));
      const total = Math.round(100 * (vals.reduce((a,b)=>a+b,0) / lessons.length));
      const fill = document.getElementById('meterFill');
      const pct = document.getElementById('totalPct');
      if (fill) fill.style.width = total + '%';
      if (pct) pct.textContent = total + '%';
    }
    lessons.forEach(setBadgeAndBar);
    computeTotal();

    // --- Unlock member-only blocks if member flag set
    (function(){
      const isMember = localStorage.getItem('mynd_member') === 'true';
      if (!isMember) return;
      document.querySelectorAll('.card.locked').forEach(card=>{
        card.classList.remove('locked');
        card.querySelectorAll('a.chip').forEach(a=>{
          a.textContent = 'Open Module';
          a.setAttribute('href', '../join.html'); // placeholder target; connect to module when ready
        });
        const ghost = card.querySelector('a.ghost');
        if (ghost) ghost.remove();
      });
    })();
  </script>
</body>
</html>
