<!-- /pages/practice.html -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Practice — Experience Points</title>
  <meta name="description" content="Practice is ongoing integration held over time — slow enough for your nervous system, deep without overwhelm. A quiet space for sustained alignment." />
  <meta name="theme-color" content="#06110e" />

  <meta property="og:title" content="Practice — Experience Points" />
  <meta property="og:description" content="Ongoing integration, held over time. Consistency over intensity. Self-trust over performance." />
  <meta property="og:type" content="website" />

  <link rel="stylesheet" href="../assets/style.css" />
</head>

<body>
  <!-- Ambient background -->
  <div class="bg-wrap" aria-hidden="true">
    <canvas id="stars"></canvas>
    <div class="glow-film"></div>
  </div>

  <!-- Header / Global Navigation -->
  <header>
    <div class="wrap">
      <div class="nav">
        <a class="brand" href="../index.html" aria-label="Experience Points home">
          <div class="logo" aria-hidden="true"></div>
          <div class="name">
            <strong>Experience Points</strong>
            <span>Level up through lived experience</span>
          </div>
        </a>

        <nav class="navlinks" aria-label="Primary">
          <a href="../index.html">Home</a>
          <a href="./origin.html">Origin</a>
          <a href="./path.html">The Path</a>
          <a href="./map.html">The Map</a>
          <a href="./side-quests.html">Side Quests</a>
          <a class="active" href="./practice.html" aria-current="page">Practice</a>
        </nav>

        <div class="nav-cta">
          <button class="btn ghost" type="button" data-scroll="#status">
            <span>Current Status</span>
            <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
          <button class="btn primary" type="button" data-scroll="#notify">
            <span>Get Notified</span>
            <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M5 12h12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M13 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>

        <button class="nav-toggle" type="button" aria-label="Open menu" aria-expanded="false" aria-controls="mobileMenu">
          <span class="nav-toggle-lines" aria-hidden="true"></span>
        </button>
      </div>

      <!-- Mobile menu -->
      <div id="mobileMenu" class="mobile-menu" hidden>
        <a href="../index.html">Home</a>
        <a href="./origin.html">Origin</a>
        <a href="./path.html">The Path</a>
        <a href="./map.html">The Map</a>
        <a href="./side-quests.html">Side Quests</a>
        <a class="active" href="./practice.html" aria-current="page">Practice</a>
        <div class="mobile-actions">
          <button class="btn ghost" type="button" data-scroll="#status">Current Status</button>
          <button class="btn primary" type="button" data-scroll="#notify">Get Notified</button>
        </div>
      </div>
    </div>
  </header>

  <main id="top">
    <!-- Hero -->
    <section class="hero hero--inner">
      <div class="wrap">
        <div class="hero-grid hero-grid--inner">
          <div class="hero-card">
            <div class="hero-inner">
              <span class="pill">
                <span class="dot" aria-hidden="true"></span>
                A quiet space for sustained change
              </span>

              <h1>Practice</h1>
              <p class="subhead">
                <strong>Ongoing integration, held over time.</strong><br/>
                Practice exists because insight alone is not enough. Change that isn’t supported tends to collapse under stress.
                Here, experience becomes embodied — slowly, steadily, and in relationship with yourself.
              </p>

              <div class="hero-ctas">
                <button class="btn primary" type="button" data-scroll="#notify">
                  <span>Get Notified When Practice Opens</span>
                  <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                    <path d="M4 12l6 6L20 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </button>
                <a class="btn ghost" href="./side-quests.html">
                  <span>Explore Side Quests</span>
                  <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                    <path d="M12 5v14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <path d="M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  </svg>
                </a>
              </div>

              <div class="microproof" aria-label="Guiding principles">
                <span class="badge"><b>Consistency</b> <em>over intensity</em></span>
                <span class="badge"><b>Slow</b> <em>enough to stay online</em></span>
                <span class="badge"><b>Authority</b> <em>stays with you</em></span>
              </div>
            </div>
          </div>

          <!-- Right Panel -->
          <aside class="hero-card panel" aria-label="Practice preview">
            <div class="panel-top">
              <div>
                <h3>Practice doesn’t ask for loyalty.</h3>
                <p>
                  It asks for honesty. Engage when you can. Pause when you need. Return when it’s true.
                </p>
              </div>
              <span class="pill">
                <span class="dot" aria-hidden="true"></span>
                In development
              </span>
            </div>

            <div class="xp-meter" aria-label="Practice principles">
              <div class="row">
                <span>Design Ethic</span>
                <span><b style="color:var(--text); letter-spacing:-0.02em;">Non-coercive</b></span>
              </div>
              <div class="xp-bar" role="progressbar" aria-valuenow="72" aria-valuemin="0" aria-valuemax="100">
                <span style="width:72%"></span>
              </div>
              <div class="row" style="margin-top:10px;">
                <span>Tempo</span>
                <span><b style="color:var(--text); letter-spacing:-0.02em;">Nervous-system aware</b></span>
              </div>
            </div>

            <div class="panel-cards">
              <div class="mini">
                <div class="title">
                  <span>Principle</span>
                  <b>No reward for intensity</b>
                </div>
                <ul>
                  <li>No performance-based growth</li>
                  <li>No pressure to “arrive”</li>
                  <li>Clarity is allowed to take time</li>
                </ul>
              </div>

              <div class="mini">
                <div class="title">
                  <span>Promise</span>
                  <b>Nothing added to fill space</b>
                </div>
                <ul>
                  <li>Only what supports real integration</li>
                  <li>Ethics &amp; sustainability first</li>
                  <li>Quiet updates, when true</li>
                </ul>
              </div>
            </div>
          </aside>
        </div>
      </div>
    </section>

    <!-- Body -->
    <section>
      <div class="wrap">
        <div class="section-head">
          <div>
            <div class="kicker">The practice</div>
            <h2>Presence, repetition, and choice — gently, over time.</h2>
          </div>
          <p class="lead">
            A life built on adaptation doesn’t unwind all at once. It unwinds through consistency in safety —
            so growth doesn’t cost you yourself.
          </p>
        </div>

        <div class="grid3">
          <article class="card">
            <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 21s-7-4.5-7-11a4 4 0 0 1 7-2 4 4 0 0 1 7 2c0 6.5-7 11-7 11z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            </svg>
            <h4>What Practice Is</h4>
            <p>
              Practice is ongoing integration. It supports living from clarity instead of reaction,
              rebuilding trust with inner signals, and choosing alignment repeatedly — not perfectly.
            </p>
            <div class="chiprow">
              <span class="chip">Ongoing</span>
              <span class="chip">Embodied</span>
              <span class="chip">Self-led</span>
            </div>
          </article>

          <article class="card">
            <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M20 12a8 8 0 1 1-16 0 8 8 0 0 1 16 0z" stroke="currentColor" stroke-width="2"/>
              <path d="M12 6v6l4 2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <h4>Why It Exists</h4>
            <p>
              Understanding something once doesn’t undo a lifetime of adaptation. Practice holds repetition without force —
              so insight can become a new default under stress.
            </p>
            <div class="chiprow">
              <span class="chip">Repetition</span>
              <span class="chip">Safety</span>
              <span class="chip">Continuity</span>
            </div>
          </article>

          <article class="card">
            <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M4 12h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M7 6h10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M7 18h10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
            <h4>The Kind of Practice This Is</h4>
            <p>
              Slow enough for your nervous system. Grounded in real life. Structured but not rigid.
              Deep without overwhelm. Relational, but not dependent.
            </p>
            <div class="chiprow">
              <span class="chip">Slow</span>
              <span class="chip">Ethical</span>
              <span class="chip">Sustainable</span>
            </div>
          </article>
        </div>

        <div class="divider"></div>

        <div class="steps steps--triple">
          <div class="step">
            <div class="num">01</div>
            <div>
              <h4>Consistency matters more than effort.</h4>
              <p>
                There is no reward for intensity. There is no penalty for pausing.
                The work is in returning — when you can — without self-judgment.
              </p>
            </div>
          </div>

          <div class="step">
            <div class="num">02</div>
            <div>
              <h4>Nothing here is meant to create dependency.</h4>
              <p>
                Practice supports your relationship with yourself — it doesn’t replace it.
                Authority stays in your hands. Always.
              </p>
            </div>
          </div>

          <div class="step">
            <div class="num">03</div>
            <div>
              <h4>Only what supports real integration belongs here.</h4>
              <p>
                This space is built carefully, with pacing and ethics as the foundation.
                If it’s not useful, it doesn’t belong.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- What Practice May Include -->
    <section>
      <div class="wrap">
        <div class="section-head">
          <div>
            <div class="kicker">Over time</div>
            <h2>What Practice may include (as it becomes real).</h2>
          </div>
          <p class="lead">
            Practice is being built carefully — not to fill space, but to support real lives.
          </p>
        </div>

        <div class="grid3">
          <article class="card">
            <h4>Guided reflections</h4>
            <p>Quiet prompts designed to help clarity land in the body without forcing meaning.</p>
            <div class="chiprow">
              <span class="chip">Gentle</span>
              <span class="chip">Grounded</span>
            </div>
          </article>

          <article class="card">
            <h4>Integration prompts</h4>
            <p>Short structures for real moments: conflict, shame, indecision, overstimulation, collapse.</p>
            <div class="chiprow">
              <span class="chip">Real life</span>
              <span class="chip">Actionable</span>
            </div>
          </article>

          <article class="card">
            <h4>Seasonal focuses</h4>
            <p>Light themes that support continuity without rigid timelines or performance.</p>
            <div class="chiprow">
              <span class="chip">Optional</span>
              <span class="chip">Sustainable</span>
            </div>
          </article>
        </div>

        <div class="grid3" style="margin-top:14px;">
          <article class="card">
            <h4>Deeper Side Quests</h4>
            <p>Contained experiments that help new responses become available without overwhelm.</p>
            <div class="chiprow">
              <span class="chip">Contained</span>
              <span class="chip">Safe</span>
            </div>
          </article>

          <article class="card">
            <h4>Language tools</h4>
            <p>Distinctions and scripts for complex moments — clarity without rigidity.</p>
            <div class="chiprow">
              <span class="chip">Discernment</span>
              <span class="chip">Boundaries</span>
            </div>
          </article>

          <article class="card">
            <h4>Quiet reminders</h4>
            <p>Not pings. Not urgency. Just gentle returns — when there’s something real to share.</p>
            <div class="chiprow">
              <span class="chip">No pressure</span>
              <span class="chip">No urgency</span>
            </div>
          </article>
        </div>
      </div>
    </section>

    <!-- Status -->
    <section id="status">
      <div class="wrap">
        <div class="cta-band">
          <div class="cta-inner">
            <div>
              <div class="kicker">Current status</div>
              <h3>Practice is in development.</h3>
              <p>
                It’s being built with pacing, ethics, and sustainability as the foundation — so it can support real lives,
                not just ideas. There is no countdown. No scarcity language. No rush.
              </p>
              <p class="fineprint" style="margin-top:10px;">
                When it’s ready, it will be ready.
              </p>
            </div>

            <div class="card card--flat">
              <h4 style="margin:0 0 8px;">What Practice is not</h4>
              <ul class="bullets">
                <li>Not quick transformation</li>
                <li>Not someone else telling you what to do</li>
                <li>Not intensity disguised as growth</li>
                <li>Not certainty over self-trust</li>
              </ul>
              <div class="chiprow" style="margin-top:12px;">
                <span class="chip">Quiet on purpose</span>
                <span class="chip">Ethical by design</span>
                <span class="chip">Autonomy-first</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Notify -->
    <section id="notify">
      <div class="wrap">
        <div class="section-head">
          <div>
            <div class="kicker">Stay connected (optional)</div>
            <h2>One quiet update — when there’s something real to share.</h2>
          </div>
          <p class="lead">
            This is not a funnel. You won’t be pressured. You won’t be sold urgency.
            Just a calm notification when Practice opens.
          </p>
        </div>

        <div class="cta-band">
          <div class="cta-inner cta-inner--form">
            <div>
              <h3 style="margin:0;">Leave your email (optional).</h3>
              <p style="margin-top:10px;">
                Practice doesn’t ask for commitment. It asks for honesty.
                If you engage, do it for yourself — not for identity, not for approval.
              </p>

              <div class="fineprint" style="margin-top:12px;">
                A final note on choice: if you step away, nothing is lost. You can always return.
              </div>
            </div>

            <form id="notifyForm" novalidate>
              <div class="field">
                <input class="input" id="email" name="email" autocomplete="email" placeholder="Your email" aria-label="Your email" />
                <button class="btn primary" type="submit">
                  <span>Notify Me</span>
                  <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                    <path d="M5 12h12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <path d="M13 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </button>
              </div>

              <div id="formMsg" class="fineprint" role="status" aria-live="polite"></div>

              <div class="fineprint">
                By submitting, you agree to receive a single update when Practice opens. Unsubscribe anytime.
              </div>
            </form>
          </div>
        </div>

        <div class="divider"></div>

        <div class="closing">
          <div class="kicker">Closing</div>
          <h2 style="margin-top:0;">Growth that doesn’t cost you yourself.</h2>
          <p class="lead" style="max-width: 78ch;">
            A life built on adaptation doesn’t unwind all at once.
            It unwinds through presence, repetition, and choice.
            Practice exists to support that unwinding — gently, over time — so growth doesn’t cost you yourself.
          </p>

          <div class="hero-ctas" style="margin-top:14px;">
            <a class="btn ghost" href="./path.html">
              <span>Return to The Path</span>
              <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M10 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M4 12h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </a>
            <a class="btn primary" href="./map.html">
              <span>Explore The Map</span>
              <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M12 3l7 4v14l-7-4-7 4V7l7-4z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
              </svg>
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer>
      <div class="wrap">
        <div class="foot">
          <div class="col">
            <div class="footbrand">
              <div class="logo" style="width:30px;height:30px;border-radius:12px;" aria-hidden="true"></div>
              <div>
                <div class="footname">Experience Points</div>
                <div class="footdesc">Built for inner authority, not dependence.</div>
              </div>
            </div>
            <div class="footcopy">© <span id="year"></span> Experience Points. Take what resonates. Leave what doesn’t. Return to yourself.</div>
            <div class="footfine">Disclaimer: This site is educational and does not provide medical or mental health treatment.</div>
          </div>

          <div class="links" aria-label="Footer links">
            <a href="./origin.html">Origin</a>
            <a href="./path.html">The Path</a>
            <a href="./map.html">The Map</a>
            <a href="./side-quests.html">Side Quests</a>
            <a href="./practice.html" aria-current="page">Practice</a>
            <a href="../index.html">Home</a>
          </div>
        </div>
      </div>
    </footer>
  </main>

  <script>
    (function () {
      "use strict";

      const $ = (sel, root = document) => root.querySelector(sel);
      const $$ = (sel, root = document) => Array.from(root.querySelectorAll(sel));

      // Year
      $("#year").textContent = String(new Date().getFullYear());

      // Smooth scroll for in-page anchors
      $$("[data-scroll]").forEach((btn) => {
        btn.addEventListener("click", () => {
          const target = btn.getAttribute("data-scroll");
          const el = target ? document.querySelector(target) : null;
          if (el) el.scrollIntoView({ behavior: "smooth", block: "start" });
          closeMobileMenu();
        });
      });

      // Mobile menu toggle
      const toggle = $(".nav-toggle");
      const mobileMenu = $("#mobileMenu");

      function openMobileMenu() {
        mobileMenu.hidden = false;
        toggle.setAttribute("aria-expanded", "true");
        document.body.classList.add("no-scroll");
      }
      function closeMobileMenu() {
        mobileMenu.hidden = true;
        toggle.setAttribute("aria-expanded", "false");
        document.body.classList.remove("no-scroll");
      }
      function isOpen() { return toggle.getAttribute("aria-expanded") === "true"; }

      if (toggle && mobileMenu) {
        toggle.addEventListener("click", () => {
          if (isOpen()) closeMobileMenu();
          else openMobileMenu();
        });

        // Close on escape
        window.addEventListener("keydown", (e) => {
          if (e.key === "Escape" && isOpen()) closeMobileMenu();
        });

        // Close when clicking a link
        $$("#mobileMenu a").forEach(a => a.addEventListener("click", closeMobileMenu));
      }

      // Notify form (client-side placeholder)
      const form = $("#notifyForm");
      const msg = $("#formMsg");

      function isValidEmail(email) {
        return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(String(email).trim());
      }

      form.addEventListener("submit", (e) => {
        e.preventDefault();
        const email = ($("#email").value || "").trim();
        msg.textContent = "";

        if (!email || !isValidEmail(email)) {
          msg.textContent = "Please enter a valid email.";
          msg.style.color = "rgba(255,211,106,0.95)";
          $("#email").focus();
          track("practice_notify_invalid", { reason: "email" });
          return;
        }

        const payload = { email, ts: new Date().toISOString(), page: "practice" };

        try {
          const key = "xp_practice_notify";
          const existing = JSON.parse(localStorage.getItem(key) || "[]");
          existing.push(payload);
          localStorage.setItem(key, JSON.stringify(existing));
        } catch (err) {}

        msg.textContent = "✅ You’re on the list. You’ll receive one quiet update when Practice opens.";
        msg.style.color = "rgba(106,247,197,0.95)";
        form.reset();
        track("practice_notify_submit", payload);
      });

      // Toast (shared)
      let toastEl = null;
      function toast(text) {
        if (!toastEl) {
          toastEl = document.createElement("div");
          toastEl.style.position = "fixed";
          toastEl.style.left = "50%";
          toastEl.style.bottom = "18px";
          toastEl.style.transform = "translateX(-50%)";
          toastEl.style.zIndex = "9999";
          toastEl.style.maxWidth = "min(740px, calc(100% - 24px))";
          toastEl.style.padding = "12px 14px";
          toastEl.style.borderRadius = "16px";
          toastEl.style.background = "rgba(10, 20, 17, 0.82)";
          toastEl.style.backdropFilter = "blur(12px)";
          toastEl.style.border = "1px solid rgba(255,255,255,0.14)";
          toastEl.style.boxShadow = "0 22px 55px rgba(0,0,0,0.55)";
          toastEl.style.color = "rgba(234,247,240,0.92)";
          toastEl.style.fontSize = "13px";
          toastEl.style.lineHeight = "1.45";
          toastEl.style.opacity = "0";
          toastEl.style.transition = "opacity 220ms ease, transform 220ms ease";
          document.body.appendChild(toastEl);
        }
        toastEl.textContent = text;
        toastEl.style.opacity = "1";
        toastEl.style.transform = "translateX(-50%) translateY(0)";
        clearTimeout(toastEl._t);
        toastEl._t = setTimeout(() => {
          toastEl.style.opacity = "0";
          toastEl.style.transform = "translateX(-50%) translateY(6px)";
        }, 2800);
      }

      // Lightweight analytics placeholder
      function track(event, data) {
        try {
          const key = "xp_events";
          const q = JSON.parse(localStorage.getItem(key) || "[]");
          q.push({ event, data: data || {}, ts: new Date().toISOString() });
          localStorage.setItem(key, JSON.stringify(q));
        } catch (err) {}
        // eslint-disable-next-line no-console
        console.log("[XP]", event, data || {});
      }
      track("page_view", { page: "practice", path: location.pathname });

      // Starfield background (shared)
      const canvas = document.getElementById("stars");
      const ctx = canvas.getContext("2d", { alpha: true });

      let W = 0, H = 0;
      const DPR = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
      const stars = [];
      const STAR_COUNT = 160;
      const prefersReduce = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;

      function rand(min, max) { return Math.random() * (max - min) + min; }

      function resize() {
        W = window.innerWidth;
        H = window.innerHeight;
        canvas.width = Math.floor(W * DPR);
        canvas.height = Math.floor(H * DPR);
        canvas.style.width = W + "px";
        canvas.style.height = H + "px";
        ctx.setTransform(DPR, 0, 0, DPR, 0, 0);
      }

      function makeStars() {
        stars.length = 0;
        for (let i = 0; i < STAR_COUNT; i++) {
          stars.push({
            x: rand(0, W),
            y: rand(0, H),
            r: rand(0.6, 1.9),
            a: rand(0.10, 0.75),
            vx: rand(-0.08, 0.08),
            vy: rand(0.02, 0.14),
            tw: rand(0.002, 0.010),
            ph: rand(0, Math.PI * 2)
          });
        }
      }

      let mouseX = window.innerWidth * 0.5, mouseY = window.innerHeight * 0.4;
      window.addEventListener("pointermove", (e) => {
        mouseX = e.clientX;
        mouseY = e.clientY;
      }, { passive: true });

      function draw() {
        ctx.clearRect(0, 0, W, H);

        const vg = ctx.createRadialGradient(W * 0.5, H * 0.5, 0, W * 0.5, H * 0.5, Math.max(W, H) * 0.65);
        vg.addColorStop(0, "rgba(0,0,0,0)");
        vg.addColorStop(1, "rgba(0,0,0,0.35)");
        ctx.fillStyle = vg;
        ctx.fillRect(0, 0, W, H);

        const px = (mouseX / Math.max(1, W) - 0.5) * 10;
        const py = (mouseY / Math.max(1, H) - 0.5) * 10;

        for (const s of stars) {
          s.ph += s.tw;
          const twinkle = (Math.sin(s.ph) * 0.08) + 0.92;

          const x = s.x + px * (s.r * 0.35);
          const y = s.y + py * (s.r * 0.35);

          const g = ctx.createRadialGradient(x, y, 0, x, y, s.r * 5.2);
          g.addColorStop(0, `rgba(234,247,240,${Math.min(0.10, s.a * 0.25)})`);
          g.addColorStop(1, "rgba(234,247,240,0)");

          ctx.fillStyle = g;
          ctx.beginPath();
          ctx.arc(x, y, s.r * 5.2, 0, Math.PI * 2);
          ctx.fill();

          ctx.fillStyle = `rgba(234,247,240,${(s.a * twinkle).toFixed(3)})`;
          ctx.beginPath();
          ctx.arc(x, y, s.r, 0, Math.PI * 2);
          ctx.fill();

          if (!prefersReduce) {
            s.x += s.vx;
            s.y += s.vy;
          }

          if (s.y > H + 10) { s.y = -10; s.x = rand(0, W); }
          if (s.x > W + 10) s.x = -10;
          if (s.x < -10) s.x = W + 10;
        }

        if (!prefersReduce) requestAnimationFrame(draw);
      }

      // Init
      resize();
      makeStars();
      requestAnimationFrame(draw);

      let rT = null;
      window.addEventListener("resize", () => {
        clearTimeout(rT);
        rT = setTimeout(() => {
          resize();
          makeStars();
        }, 180);
      }, { passive: true });

    })();
  </script>
</body>
</html>
